<mvc:View
    controllerName="sdmcoletor.controller.Object"
    xmlns="sap.m"
    xmlns:mvc="sap.ui.core.mvc"    
    xmlns:semantic="sap.f.semantic"  
    xmlns:core="sap.ui.core"
    	
     >
    <semantic:SemanticPage
        id="idMainSemanticPage"
        class="zoom70-"
        headerPinnable="false"
        toggleHeaderOnTitleClick="false"
        busy="{objectView>/busy}"
        busyIndicatorDelay="{objectView>/delay}" 
        showFooter="false">
        <!-- Cabeçalho expandido acima dos botões -->
        <semantic:titleExpandedContent>
            <HBox id="idHbx1">
                <Title  id="idTtl1"  text="Movimentação de LPNs" level="H3" />
            </HBox>
            <HBox  id="idHbx2">

                <Title id="idTx1" text="Trabalhando com DU: " level="H2" />
                <Title id="idTx2"  text="{DUModel>/duAtiva}" level="H4"/>
            </HBox>
        </semantic:titleExpandedContent>
        <semantic:titleHeading>
            <Title id="idLpnTitle" title="{i18n>worklistTitle}" text="{lpn}" level="H3"/>
        </semantic:titleHeading>
        <semantic:headerContent>
            <FlexBox id="idMainFlexBox" width="100%" height="auto" alignItems="Start">
                <Panel id="idMainPanel1" backgroundDesign="Transparent">
                    <HBox  id="idHbx3" justifyContent="Start" alignItems="Center" class="sapUiSmallMarginBottom" >
                        <VBox  id="idVVx1" class="sapUiSmallMarginEnd" >
                                                    <Label  id="idLbTxl1" text=" "/>
                            <Button
                                id="idVoltarWorklistButton"
                                icon="sap-icon://nav-back"
                              
                                press=".onNavBack"/>
                        </VBox>
                        <VBox  id="idVbx2" class="sapUiSmallMarginEnd" >
                        <Label  id="idLbTxl2" text=" "/>
                            <Button
                                id="idAplicarButton"
                                text="Aplicar"
                                type="Emphasized"
                                press=".onAplicarButtonPress"/>
                        </VBox>
                        <VBox  id="idVbx1" class="sapUiSmallMarginEnd" >
                            <Label  id="idLbTx1" text="Deposito Destino :  ." labelFor="idSelectHeaderDepDestino"/>
                            <!--  
                            <Select
                            id="idSelectHeaderDepDestino"
                            items="{DepDestinoConcat>/}"
                            selectedKey="{/depositoSelecionado}"
                            change=".onChangeDepoDestHeader">
                                <core:Item key="{DepDestinoConcat>DEPOSITO}" text="{DepDestinoConcat>TEXTO}" />
                            </Select>   -->
                            <ComboBox
                                id="idSelectHeaderDepDestino"
                                width="5rem"
                                 selectedKey="{/depositoSelecionado}"
                                change=".onChangeDepoDestHeader"
                                placeholder="Todos"  
                               items="{DepDestinoConcat>/}">
                                <core:Item  id="idCr31"  key="{DepDestinoConcat>DEPOSITO}" text="{DepDestinoConcat>TEXTO}" />
                            </ComboBox>
                        </VBox>
                        <VBox id="idVbx3" class="sapUiSmallMarginEnd" >
                            <Label  id="idLblTx1"  text="Posição Destino :  ." labelFor="idSelectPosDestino"/>
                            <!-- Cabeçalho expandido acima dos botões 
                            <Select
                                id="idSelectPosDestino"
                                width="10rem"
                                items="{PosDestinoConcat>/}">
                                <core:Item key="{PosDestinoConcat>POSICAO}" text="{PosDestinoConcat>TEXTO}" />
                            </Select> -->
                            <ComboBox
                                id="idSelectPosDestino"
                                width="5rem"
                                items="{PosDestinoConcat>/}"                                
                                selectedKey="{/depositoSelecionado}"
                                change=".onChangePosiDestHeader"
                                placeholder="Todos"  
                               >
                                <core:Item  id="idCr1"  key="{PosDestinoConcat>POSICAO}" text="{PosDestinoConcat>TEXTO}" />
                            </ComboBox>
                        </VBox>
                        <VBox id="idVbx4" class="sapUiSmallMarginEnd" >
                               <Label  id="idLbBtl2" text=" "/>
                            <Button  id="idBt1" text="Save" press=".onSalvarPress" type="Emphasized" icon="sap-icon://save" />
                        </VBox>
                    </HBox>
                </Panel>
            </FlexBox>
        </semantic:headerContent>
        <semantic:content>
            <Table
                id="objectTable"
                width="100%"
                items="{
                path: 'SelecionadosParaTransporte>/' ,
                        sorter: [
            { path: 'centro',          descending: false },
            { path: 'deposito_origem', descending: false },
            { path: 'posicao_origem',  descending: false }]    
                }" 
                noDataText="{worklistView>/tableNoDataText}"
                busyIndicatorDelay="{worklistView>/tableBusyDelay}"
                   mode="MultiSelect"
                   selectionChange=".onSelectChange"
                growing="true"
                growingScrollToLoad="true"
                updateFinished=".onUpdateFinished">
                <columns>
                    <Column id="nameColumnObj">
                        <Text text="{i18n>tableNameColumnTitle}" id="nameColumnTitleObj"/>
                    </Column>
                    <Column id="depositoOrigemColumnObj">
                        <Text text="{i18n>depositOrigemLabel}" id="depositoOrigemColumnTitleObj"/>
                    </Column>
                    <Column id="posicaoOrigemColumnObj">
                        <Text text="{i18n>posOrigLabel}" id="posicaoOrigemColumnTitleObj"/>
                    </Column>
                    <Column id="loteSDMColumnObj">
                        <Text text="{i18n>lSDMLabel}" id="loteSDMColumnTitleObj"/>
                    </Column>
                    <Column id="depositoDestinoColumnObj">
                        <Text text="{i18n>depositoDestinoLabel}" id="depositoDestinoColumnTitleObj"/>
                    </Column>
                    <Column id="posicaoDestinoColumnObj">
                        <Text text="{i18n>posDstLabel}" id="posicaoDestinoColumnTitleObj"/>
                    </Column>
                    <Column id="materialColumnObj">
                        <Text text="{i18n>materialLabel}" id="materialColumnTitleObj"/>
                    </Column>
                </columns>
                <items>
                    <ColumnListItem  id="idCl1" 
                        type="Inactive"
                        press=".onPresst" 
                         highlight="{= ${SelecionadosParaTransporte>DU} === 'BLOQ.' ? 'Error' : ${SelecionadosParaTransporte>DU} === 'LIB.' ? 'Success' : 'None'}">
                        <cells>
                            <Text id="idTxx2"  text="{SelecionadosParaTransporte>lpn}"/>
                            <Text id="idTxx3"  text="{SelecionadosParaTransporte>deposito_origem}" width="1.6rem"/>
                            <Text id="idTxx1"  text="{SelecionadosParaTransporte>posicao_origem}"  width="3.2rem"/>
                            <Text id="idTxx4"  text="{SelecionadosParaTransporte>lote_sdm}"        width="4.8rem"/>
                            <Select
                                id="idSelectDepDestino"
                                selectedKey="{SelecionadosParaTransporte>/deposito_destino}"
                                width="7.5rem"
                                change=".onChangeDepositoDestino"
                                items="{path:'DepDataLinha>/' }">
                                <core:Item  id="idCR21"  key="{DepDataLinha>deposito_origem}" text="{DepDataLinha>deposito_origem}" templateShareable="false"/>
                            </Select>
                            <Select
                                id="idSelectPosDest"
                                selectedKey="{SelecionadosParaTransporte>posicao_destino}"
                                width="7.5rem"
                                items="{path:'DepPosDataLinha>/' }"
                                change=".onChangeposicaoDestino">
                                <core:Item  id="idCr41"  key="{DepPosDataLinha>posicao_destino}" text="{DepPosDataLinha>posicao_destino}" templateShareable="false" />
                            </Select>
                            <Text id="idTx21"  text="{SelecionadosParaTransporte>material}" width="4rem"/>
                        </cells>
                    </ColumnListItem>
                </items>
            </Table>
        </semantic:content>
        <!--      <semantic:sendEmailAction>
            <semantic:SendEmailAction id="shareEmail" press=".onShareEmailPress"/>
        </semantic:sendEmailAction>
         Custom Footer Content
        <semantic:footerCustomActions>
            <Button text="Save" press=".onSalvarPress" type="Emphasized" icon="sap-icon://save" />
            <Button text="Cancel" press=".onNavBack" />
        </semantic:footerCustomActions>  -->
    </semantic:SemanticPage>
</mvc:View>